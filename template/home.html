{% extends 'layout.html' %}
{% block content %}
  <div class="form_header">
    <div class="upload_form">
      <form action="http://192.168.1.47/upload" method="post" enctype="multipart/form-data">
        <input type="file" name="file" multiple><br>
        <input type="submit" value="Upload">
        <p class="msg">{{ msg }}</p>
      </form>
    </div>

    <div class="create_folder">
      <form action="http://192.168.1.47/create" method="post">
        <input type="text" name="text"><br>
        <input type="submit" value="Create">
        <p class="msg">{{ msg }}</p>
      </form>
    </div>
  </div>

  <div class="list_content">
  <table>
    <tbody>
      <tr>
        <td>
          <a href="..">
            <img src="../static/arrow-back-folder.png" height="40" width="40" alt="folder">
            ..
          </a>
        </td>
      </tr>
    </tbody>
  </table>
  {% for folder in dir_folders %}
  <table>
    <tbody>
      <tr>
        <td>
          <a href="{{(request.path + '/' if request.path != '/' else '') + folder}}">
            <img src="../static/folder.png" height="40" width="40" alt="folder">
            {{ folder }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>
  {% endfor %}
  {% for file in dir_files %}
  <table>
    <tbody>
      <tr>
        <td>
          <a href="{{(request.path + '/' if request.path != '/' else '') + file}}">
            <img src="../static/file-icon.png" height="40" width="40" alt="file">
            {{ file }}
          </a>
        </td>
      </tr>
    </tbody>
  </table>
  {% endfor %}
  </div>
{% endblock content %}